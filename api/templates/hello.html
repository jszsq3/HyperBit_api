<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>HyperBit</title>

<!-- <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@4.5.0/dist/echarts.min.js"></script> -->
</head>
<body>
    <h1>查找</h1>
    <form action="http://cn2.hxdcloud.com:51112/searchapi" method="post">
        头实体: <input type="text" name="headEntity" >
        关系: <input type="text" name="relation" placeholder="必填" >
        头实体: <input type="text" name="tailEntity">
        <input type="submit" value="查找"><br>
    </form>
    <form action="http://cn2.hxdcloud.com:51112/search_hyper_api" method="post">
        头实体: <input type="text" name="subject" >
        关系: <input type="text" name="predicate"  >
        头实体: <input type="text" name="object">
        <input type="submit" value="Hyper查找"><br>
    </form>
    <h1>查找结果：</h1>
    <!-- <br/>{{my_dict}} -->
    {% for item in my_dict %}
    {{item}}<br>
    {% endfor %}
    <h1>插入</h1>
    <form action="http://cn2.hxdcloud.com:51112/insertapi" method="post" enctype="multipart/form-data">
        <input type="file" name="file">
        <input type="submit" value="插入"><br>
    </form>
    
   
    <!-- <div class = "panel-body ">
        <div id="graph" style="width: 100%;height:600px;"></div>
    </div>
    <script>
        
        var js_data = eval("{{my_dict|safe}}");
        // for(var i = 0;i<js_data.length;i++){
        //     document.write(js_data[i]);
        // }
        if(js_data.length>1){
            document.write(js_data[0][1]);
        }
        //主要数据为data和links
data = [
        
        {name:'苹果',category:0,id:0},
        {name:'水果',category:2,id:1},
        {name:'香蕉',category:1,id:2},
        // {name:'猕猴桃',category:0,id:0},
        // {name:js_data[1][1],category:1,id:2} 
        ]
    links = [
        {source:0,target:1,category:0,value:'属于',symbolSize:10},
        {source:2,target:1,category:0,value:'属于',symbolSize:10}
    ]
    var myChart = echarts.init(document.getElementById('graph'));
    
    option = {
	    title: {
	        text: ''
	    },
	    tooltip: {},
	    animationDurationUpdate: 1500,
	    animationEasingUpdate: 'quinticInOut',
	    label: {
	        normal: {
	            show: true,
	            textStyle: {
	                fontSize: 12
	            },
	        }
	    },
	    legend: {
	        x: "center",
	        show: false
	    },
	    series: [

	        {
	            type: 'graph',
	            layout: 'force',
	            symbolSize: 30,
	            focusNodeAdjacency: true,
	            roam: true,
	            edgeSymbol: ['none', 'arrow'],
	            categories: [{
	                name: '查询实体',
	                itemStyle: {
	                    normal: {
	                        color: "#009800",
	                    }
	                }
	            }, {
	                name: 'instance',
	                itemStyle: {
	                    normal: {
	                        color: "#4592FF",
	                    }
	                }
	            }, {
	                name: 'class',
	                itemStyle: {
	                    normal: {
	                        color: "#C71585",
	                    }
	                }
	            }],
	            label: {
	                normal: {
	                    show: true,
	                    textStyle: {
	                        fontSize: 12,
	                    },
	                }
	            },
	            force: {
	                repulsion: 900
	            },
	            edgeSymbolSize: [60, 70],
	            edgeLabel: {
	                normal: {
	                    show: true,
	                    textStyle: {
	                        fontSize: 15
	                    },
	                    formatter: "{c}"
	                }
	            },
	            data: data,
	            links: links,
	            lineStyle: {
	                normal: {
	                    opacity: 0.9,
	                    width: 1.3,
	                    curveness: 0,
	                    color:"#262626",
	                }
	            }
	        }
	    ]
	};
    myChart.setOption(option);
    </script> -->
</body>
</html>